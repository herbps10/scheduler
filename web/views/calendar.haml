!!! 5
%html
	%head
		%link{ "rel" => "stylesheet", "href" => "/css/calendar.css", "type" => "text/css" }
		%link{ "rel" => "stylesheet", "href" => "/css/styles.css", "type" => "text/css" }
		%link{ "rel" => "stylesheet", "href" => "/css/colNav_styles.css", "type" => "text/css" }
		%script{ "src" => "/js/jquery.js", "type" => "text/javascript" }
		%script{ "src" => "/js/jquery.splitter.js", "type" => "text/javascript" }
		%script{ "src" => "/js/calendar.js", "type" => "text/javascript" }
		%script{ "src" => "/js/newcolumnnav.js", "type" => "text/javascript" }
		%link{ "rel" => "stylesheet", "href" => "http://fonts.googleapis.com/css?family=Quicksand:400,300,700|Flamenco:300,400|Poiret One|Quattrocento", "type" =>"text/css"}

		:javascript
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-8572766-9']);
			_gaq.push(['_trackPageview']);

			(function() {
			    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
    

	%body.calendar
		#fb-root
		<script>(function(d, s, id) {
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) return;
		js = d.createElement(s); js.id = id;
		js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
		fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));</script>

		%header
			%h1 Knight Scheduler
			- if @session[:logged_in] == true
				#user-actions
					%a{"href" => "/dashboard"} dashboard
					%a{"href" => "/user/logout?redirect=calendar"} logout
			- else
				#user-actions
					Contact us at <a href="mailto:err2@geneseo.edu">err2@geneseo.edu</a> or <a href="mailto:hps1@geneseo.edu">hps1@geneseo.edu</a><br/>

					<div class="fb-like" data-href="http://www.knightscheduler.com" data-send="true" data-layout="button_count" data-width="200" data-show-faces="false" data-action="recommend" data-font="arial"></div>
					<div class="g-plusone" data-size="medium" data-annotation="inline" data-width="230" data-href="www.knightscheduler.com"></div>
					- if false
						%a.user-register register
						%a.user-login login
						%a{"href" => "/auth/facebook"} Login with Facebook

			#small-login
				%form{"action" => "/user/authenticate.json", "method" => "post"}
					%div 
						%input{"name" => "email", "type" => "text"}
					%div
						%input{"name" => "password", "type" => "password"}

					#register
						Don't have an account? 
						%a{"href" => "/user/register"} register

					#message

					%input{"type" => "submit", "value" => "Login"}
				%button.close Close


#content
	#toolbar
		%button#col-toggle.add-section.hero.unexpanded +
		%button#help ?
		%button#regen.passive{"href" => "#"} Generate!



	#sidebar
		#intro
			.divider_h
			%h2 Welcome to Knight Scheduler!
			.divider_h
			%p Knight Scheduler is a new web app designed to help Geneseo students find their perfect schedule.
			%p Click on the <strong class="blue">blue "+"</strong> in the upper left to see the course list.
			%p.int1 Now click on the department you are interested in, and you will see all of its courses. Click on a course, and you will see all the available sections, and a description for that course.
			%p.int2 When you click on a section, this menu will disappear, and you will see your course lists (click the purple button to get this back at any time). New sections will be added to the "Not in Schedule" list first.
			%p.int3 On clicking the "Generate" button, Knight Scheduler will attempt to fit your chosen classes together the best it can. Some sections might not fit, but you can always swap them out with others that did to fine tune your schedule. 

		#resize
			#schedule-courses
				.title Scheduled
				%ul.list
			
			#schedule-conflicts
				.title Unscheduled
				%ul.list



	#main-content
		#course-col
			= haml :index, { :locals => { :data => @data } }
		
		#full-cal-container
			#cal-header
				#days
					.day.mon M
					.day.tue T
					.day.wed W
					.day.thu T
					.day.fri F

			#calendar-container
				#time-axis
					.time 8am
					.time 9am
					.time 10am
					.time 11am
					.time 12pm
					.time 1pm
					.time 2pm
					.time 3pm
					.time 4pm
					.time 5pm
					.time 6pm
					.time 7pm
					.time 8pm
					.time 9pm
					.time 10pm
				#grid
					- 31.times do
						.grid-halfhour
							.grid-day.mon
							.grid-day.tue
							.grid-day.wed
							.grid-day.thu
							.grid-day.fri

				#calendar
		#schedules-container
			.more-schedules Click to view alternate schedules.
			#schedules
				.hide-schedules X
		<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

				
